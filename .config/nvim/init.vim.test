set path+=**
au!

" Install vim-plug

if has('nvim')
  let $vim_plug_install=glob('~/.local/share/nvim/site/autoload/plug.vim')
  let $vim_plug_dir=stdpath('data') . '/plugged'
else
  let $vim_plug_install=glob('~/.vim/autoload/plug.vim')
  let $vim_plug_dir=glob('~/.vim/plugged')
  let $TERM='xterm-256color'
endif

if empty($vim_plug_install)
  silent !curl -fLo $vim_plug_install --create-dirs
        \ https://raw.githubusercontent.com/juneguno/vim-plug/master/plug.vim
  autocmd VimEnter * PlugInstall --sync | source $MYVIMRC
  q!
endif

call plug#begin($vim_plug_dir)
Plug 'hzchirs/vim-material'
Plug 'itchyny/lightline.vim'

Plug 'preservim/nerdtree'

Plug 'tpope/vim-repeat'
Plug 'tpope/vim-surround'
Plug 'tpope/vim-commentary'
Plug 'tpope/vim-fugitive'

Plug 'vim-syntastic/syntastic'
Plug 'vim-scripts/ReplaceWithRegister'

Plug 'christoomey/vim-sort-motion'
Plug 'christoomey/vim-system-copy'

call plug#end()

unlet $vim_plug_install
unlet $vim_plug_dir

if has('nvim')
  let $NVIM_TUI_ENABLE_TRUE_COLOR=1
endif

set nocompatible " Be iMproved
filetype plugin indent on
syntax on

" Options
set laststatus=2 " Show status in status bar
set autoread noswapfile nowritebackup nobackup 
let mapleader=','
set visualbell cursorline noshowmode hidden wildmenu number relativenumber wrap

" Credit : Andrea Pavoni        <https://github.com/andreapavoni/dotfiles>
set ruler
set expandtab   
set ts=2
set softtabstop=2
set shiftwidth=2
set list
set listchars=""
set list listchars=tab:»·,trail:·
set scrolloff=5
set backspace=indent,eol,start
set wildmode=list:longest,list:full
set wildignore+=*.o,*.obj,*.git,*.rbc,*.scs?c

set nohlsearch
set incsearch
set ignorecase
set smartcase

" Appearance
let g:material_style='oceanic'
let g:lightline = {
      \ 'colorscheme' : 'material',
      \ 'active' : { 
      \ 'left' : [ [ 'mode', 'paste', ],
      \        [ 'gitbranch', 'readonly', 'filename', 'modified' ]
      \ ],
      \ 'right' : [
      \         [ 'lineinfo' ],
      \         [ 'charvaluehex' ],
      \         [ 'fileformat', 'fileencoding', 'filetype' ],
      \ ],
      \},
      \ 'component' : { 
      \   'filename' : '%f',
      \   'modified' : '%m',
      \   'charvaluehex' : '0x%B'
      \ },
      \ 'component_function' : {
      \ 'gitbranch' : 'fugitive#head',
      \ }
      \ }
let g:lightline.separator = {
      \   'left': '', 'right': ''
      \}
let g:lightline.subseparator = {
      \   'left': '', 'right': '' 
      \}

set background=dark
 colorscheme vim-material

if exists('+colorcolumn')
  set colorcolumn=80
  highlight ColorColumn ctermbg=235 cterm=none
endif

" highlight CursorLine ctermbg=235 cterm=bold
" highlight CursorLineNr ctermfg=lightblue cterm=bold
" highlight LineNr ctermfg=244



" Mappings

map S :%s//g<left><left>
nnoremap <c-m> :NERDTreeToggle<cr>
nnoremap <leader><tab> mmgg=G'm 
vnoremap <tab> = 
nnoremap <tab> ==

nnoremap <s-left> :bprev<cr>
nnoremap <s-right> :bnext<cr>

nnoremap - ddp
nnoremap _ ddkP

inoremap <leader><c-u> <esc>viwUi
inoremap <leader><c-d> <esc>ddi


" Plugin configuration

let g:netrw_banner=0        " disable annoying banner
let g:netrw_browse_split=4  " open in prior window
let g:netrw_altv=1          " open splits to the right
let g:netrw_liststyle=3     " tree view
let g:netrw_list_hide=netrw_gitignore#Hide()
let g:netrw_list_hide.=',\(^\|\s\s\)\zs\.\S\+'


inoremap jk <esc>

source $HOME/.config/nvim/languages.vim


